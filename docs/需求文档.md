# 📄 回中诗社产品需求文档

---

## 一、项目名称：**回中诗社（Poetry Club）**

一个专为初中生群体设计的现代化在线诗歌创作与交流平台。支持用户创作、阅读、评论诗作，并具备完善的用户管理和社区互动功能。

## 📚 相关文档

- 📋 [技术架构文档](./.trae/documents/技术架构文档.md) - 系统设计和技术选型详解
- 📚 [API 接口文档](./.trae/documents/API文档.md) - 完整的 API 规范和使用方法
- 📖 [用户使用指南](./.trae/documents/用户使用指南.md) - 详细的功能使用说明
- ❓ [常见问题解答](./.trae/documents/常见问题解答.md) - 典型问题及解决方案
- 📝 [更新日志](./.trae/documents/更新日志.md) - 版本变更记录
- 🌟 [项目概述](./.trae/documents/项目概述.md) - 项目背景、目标和价值

---

## 二、用户角色定义

| 角色            | 权限说明                    |
| ------------- | ----------------------- |
| **游客**        | 浏览公开诗作                  |
| **注册用户（诗人）**  | 创建、编辑、投稿诗作，评论、点赞、关注他人   |
| **管理员**       | 审核诗作、管理用户、处理举报、推荐内容     |
| **超级管理员（可选）** | 分配管理员角色，系统配置（如黑名单、IP封锁） |

---

## 三、现阶段（MVP）需求

### 1. 用户功能

#### 1.1 用户注册与登录

- 支持邮箱+密码注册/登录
    
- 支持第三方登录（GitHub / Google，可选）
    
- 注册时填写昵称、头像（可选）、简介
    

#### 1.2 个人资料管理

- 修改昵称、头像、个人简介
    
- 修改密码
    
- 查看个人发布诗作、草稿箱
    

#### 1.3 创作诗歌

- 进入创作页面，使用现代化 Tiptap 富文本编辑器
- 支持多种文本格式：加粗、斜体、下划线、删除线
- 支持段落样式：标题（H1-H3）、普通段落、引用
- 支持列表功能：有序列表、无序列表
- 支持文本对齐：左对齐、居中、右对齐
- 支持插入图片和链接管理
- 自动保存草稿（每30秒）和手动保存
- 支持撤销重做功能
- 字数统计和实时预览
- 标签系统支持作品分类
- 限制：标题不超过 100 字，正文不超过 5000 字
    

#### 1.4 浏览与阅读

- 浏览公开的诗作列表，支持分页
    
- 排序方式：最新 / 热门 / 推荐
    
- 诗作详情页：显示标题、正文、作者信息、发布时间、状态
    
- 支持复制链接 / 分享按钮
    

---

### 2. 管理员功能

#### 2.1 审核诗作

- 查看待审核的作品
    
- 审核通过 / 拒绝，并可填写审核理由
    
- 被拒绝作品仍保留在用户页面，标记为“未通过”
    

#### 2.2 用户管理

- 查看用户列表（含注册时间、发布数、状态）
    
- 封禁 / 解封用户
    
- 可设置为“管理员”或“降权”
    

---

### 3. 系统功能

#### 3.1 鉴权系统

- JWT + Refresh Token
    
- 基于角色的授权策略（Role-Based Access Control）
    

#### 3.2 数据库模型（简化版）

```sql
User
- Id
- Username
- Email
- PasswordHash
- Bio
- AvatarUrl
- Role (User, Admin)
- IsBanned

Poem
- Id
- Title
- Content
- AuthorId
- CreatedAt
- UpdatedAt
- Status (Pending, Approved, Rejected)
- RejectionReason
```

---

## 四、后续扩展需求（V2+）

### 🧑‍🤝‍🧑 社区互动扩展

#### 4.1 点赞与评论

- 每首诗可被点赞、评论
    
- 评论支持楼层结构（回复评论）
    
- 用户收到通知（如“你的诗被评论了”）
    

#### 4.2 收藏与关注

- 收藏诗作，加入个人收藏夹
    
- 关注用户，建立诗友圈
    
- 关注流：只显示关注对象发布的诗作
    

#### 4.3 消息与通知中心

- 系统消息（审核通知、评论通知）
    
- 私信功能（可选）
    

---

### 🔍 内容扩展与发现

#### 4.4 分类与标签系统

- 作品按主题（如“自然”、“爱情”）分类
    
- 自定义标签如：#春天、#孤独
    
- 浏览标签页看到所有相关作品
    

#### 4.5 搜索与推荐

- 搜索功能（按标题、作者、正文全文）
    
- 推荐算法（基于阅读、点赞行为）
    

#### 4.6 热门榜单

- 每日/每周/每月热门诗作
    
- 新锐诗人榜单（近30天投稿数+点赞数）
    

---

### 🎨 创作体验增强

#### 4.7 AI 辅助创作（推荐搭配 GPT API）

- 自动生成诗题、下一句灵感
    
- 联想与润色工具
    
- 评估语感、节奏建议
    

#### 4.8 海报生成与分享

- 将诗作生成精美图片（适配社交平台）
    
- 一键分享到微博 / 微信 / Telegram
    

---

### ⚙ 管理与运维

#### 4.9 举报系统

- 用户可举报不当诗作或评论
    
- 管理员处理举报并封禁/撤稿
    

#### 5.0 后台统计中心

- 显示活跃用户数、发布量、用户增长趋势等
    
- 可视化图表（使用 Chart.js / Recharts）
    

---

## 五、附录：系统设计建议（后端模块）

|模块|功能|
|---|---|
|Auth 模块|登录注册、Token签发、身份认证|
|User 模块|用户信息、关注、封禁、管理|
|Poem 模块|创作、审核、浏览、分类、标签|
|Comment 模块|评论、回复、点赞、举报|
|Notification 模块|系统消息、用户消息队列|
|Admin 模块|用户管理、统计面板、内容审查|

---

## 六、推荐优先级开发路线

| 阶段     | 功能组成                  |
| ------ | --------------------- |
| MVP v1 | 注册 / 登录、写作、浏览、审核、权限系统 |
| v2     | 点赞 / 评论 / 消息 / 用户互动   |
| v3     | 搜索 / 分类 / 标签 / 榜单     |
| v4     | AI / 海报 / 活动系统（征文比赛）  |

---

## 七、命名建议

- 项目名：**诗社 PoetryClub**
    
- 模块名示例：`/api/poems`, `/api/auth`, `/api/admin`, `/api/users/:id/follow`